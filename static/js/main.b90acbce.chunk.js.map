{"version":3,"sources":["Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","ImageGalleryItem/ImageGalleryItem.module.css","Button/Button.module.css","Loader/Loader.module.css","Searchbar/Searchbar.module.css","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","services/search-api.js","Button/Button.js","Loader/Loader.js","Modal/Modal.js","ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchImageName","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","placeholder","onChange","Component","ImageGalleryItem","searchResult","map","el","src","webformatURL","alt","tags","ImageGalleryItem__image","onClick","onImageClick","id","PixabayFetch","base_url","api_key","_searchQuery","_page","_perPage","a","url","page","axios","get","result","data","hits","message","Button","load_more","Spinner","Loader","color","height","width","timeout","Modal","handleKeyDownClose","code","toggleModal","handleBackdropClose","target","window","addEventListener","removeEventListener","Overlay","Img","bigImg","largeImageURL","newPixabayFetch","ImageGallery","status","showModal","handleClick","searchImages","then","prev","scroll","catch","err","console","log","imgSrc","find","prevProps","prevState","resetPage","searchQuery","text","App","handleSearchbarSubmit","setTimeout","scrollTo","top","document","documentElement","offsetHeight","behavior","onPageScroll","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b90acbce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__FDbYr\",\"Modal\":\"Modal_Modal__1c4iq\",\"Img\":\"Modal_Img__2_ufi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2ZqcJ\",\"text\":\"ImageGallery_text__2gJ7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VkHV4\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2d1iC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"load_more\":\"Button_load_more__1rWQb\",\"Button\":\"Button_Button__2DuGA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__oZpIA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__35Nrq\",\"SearchForm\":\"Searchbar_SearchForm__2oBb7\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1T0hL\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3Y7-k\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3itEP\"};","import React from 'react';\nimport { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from '../Searchbar/Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchImageName: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ searchImageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchImageName.trim() === '') {\n      toast.error('Введите название картинки!');\n      return;\n    }\n    this.props.onSubmit(this.state.searchImageName);\n    this.setState({ searchImageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            value={this.state.searchImageName}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    return this.props.searchResult.map(el => (\n      <li className={s.ImageGalleryItem} key={el.id}>\n        <img\n          src={el.webformatURL}\n          alt={el.tags}\n          className={s.ImageGalleryItem__image}\n          onClick={this.props.onImageClick}\n        />\n      </li>\n    ));\n  }\n}\n\nImageGalleryItem.propTypes = {\n  searchResult: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nexport class PixabayFetch {\n  constructor() {\n    this.base_url = `https://pixabay.com/api/`;\n    this.api_key = `22572278-f825929a97bc5f7e53341dcc7`;\n    this._searchQuery = '';\n    this._page = 1;\n    this._perPage = 12;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  async searchImages() {\n    const url = `${this.base_url}?q=${this._searchQuery}&page=${this.page}&key=${this.api_key}&image_type=photo&orientation=horizontal&per_page=${this._perPage}`;\n\n    try {\n      const result = await axios.get(url);\n      const data = result.data.hits;\n      return data;\n    } catch (error) {\n      return error.message;\n    }\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from '../Button/Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.load_more}>\n      <button className={s.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport s from '../Loader/Loader.module.css';\n\nconst Spinner = () => {\n  return (\n    <Loader\n      className={s.Loader}\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n};\n\nexport default Spinner;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from '../Modal/Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDownClose);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDownClose);\n  }\n  handleKeyDownClose = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n  handleBackdropClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return (\n      <div onClick={this.handleBackdropClose} className={s.Overlay}>\n        <div className={s.Modal}>\n          <img\n            className={s.Img}\n            src={this.props.bigImg.largeImageURL}\n            alt={this.props.bigImg.tags}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  bigImg: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport { PixabayFetch } from '../services/search-api';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst newPixabayFetch = new PixabayFetch();\n\nexport default class ImageGallery extends Component {\n  state = {\n    searchResult: [],\n    status: 'idle',\n    bigImg: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchImageName !== this.props.searchImageName) {\n      this.setState({ status: 'pending' });\n      newPixabayFetch.resetPage();\n      newPixabayFetch.searchQuery = this.props.searchImageName;\n      newPixabayFetch\n        .searchImages()\n        .then(searchResult => {\n          // console.log(searchResult)\n          this.setState({ searchResult, status: 'success' });\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({ status: 'error' });\n        });\n    }\n  }\n\n  handleClick = () => {\n    newPixabayFetch.page = 1;\n    newPixabayFetch\n      .searchImages()\n      .then(searchResult => {\n        this.setState(prev => ({\n          searchResult: [...prev.searchResult, ...searchResult],\n          status: 'success',\n        }));\n        this.props.scroll();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ status: 'error' });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n    console.log(this.state.showModal);\n  };\n\n  onImageClick = e => {\n    e.preventDefault();\n    let imgSrc = e.target.src;\n    console.log(imgSrc);\n    this.setState({\n      bigImg: this.state.searchResult.find(el => el.webformatURL === imgSrc),\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    if (this.state.status === 'idle') {\n      return <p className={s.text}>Hello! Enter the name of the picture</p>;\n    }\n    if (this.state.status === 'pending') {\n      return <Loader />;\n    }\n    if (this.state.status === 'success') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            <ImageGalleryItem\n              searchResult={this.state.searchResult}\n              onImageClick={this.onImageClick}\n            />\n          </ul>\n          <Button onClick={this.handleClick} />\n          {this.state.showModal && (\n            <Modal\n              toggleModal={this.toggleModal}\n              bigImg={this.state.bigImg}\n            ></Modal>\n          )}\n        </>\n      );\n    }\n    if (this.state.status === 'error') {\n      return <p className={s.text}>Something went wrong</p>;\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  searchImageName: PropTypes.string.isRequired,\n  scroll: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Searchbar/Searchbar';\n// import { PixabayFetch } from './services/search-api';\n// import axios from 'axios';\nimport './App.css';\nimport ImageGallery from './ImageGallery/ImageGallery';\n// import Modal from './Modal/Modal';\n\n// const newPixabayFetch = new PixabayFetch()\n\nexport default class App extends Component {\n  state = {\n    searchImageName: '',\n    showModal: false,\n  };\n\n  handleSearchbarSubmit = searchImageName => {\n    this.setState({ searchImageName });\n  };\n\n  onPageScroll() {\n    setTimeout(\n      () =>\n        window.scrollTo({\n          top: document.documentElement.offsetHeight,\n          behavior: 'smooth',\n        }),\n      1000,\n    );\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n        <ImageGallery\n          searchImageName={this.state.searchImageName}\n          scroll={this.onPageScroll}\n        />\n\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}